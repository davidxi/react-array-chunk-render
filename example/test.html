<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>test</title>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <script type="text/javascript">
      var module = {};
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.1.1/es5-shim.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.2/react.min.js"></script>
    <script type="text/javascript" src="../index.js"></script>
  </head>
  <body>
    <div id="test"></div>
    <script type="text/javascript">
      // make a long array
      var arr = [];
      for (var i = 0; i < 10000; i++) {
        arr.push(i);
      }
      var MyComponent = React.createClass({
        mixins: [module.exports],
        render: function() {
          this.arrayChunkRender(this.props.data, {
            iterator: function(item) {
              return React.createElement('li', {children: item});
            },
            after: function(result) {
              return React.createElement('ul', {children: result});
            },
            loading: function() {
              return React.createElement('span', {children: 'loading ...'});
            }
          });
          return React.createElement('div', {children: this._vars.arrayChunkResult});
        }
      });
      var myComponent = React.createElement(MyComponent, {data: arr});
      React.render(myComponent, document.getElementById('test'));
    </script>
  </body>
</html>